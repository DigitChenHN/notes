# 假设检验
在了解t检验之前，我们需要回顾一下假设检验的思想。  
作为一种统计学方法，假设检验是基于样本数据的。首先设定一个原假设，在这个原假设成立的条件下，根据统计学理论可以得到某一个统计量t的概率分布，然后使用观察到的样本数据进行计算得到该统计量t的观察值，对照其概率分布，就可以知道在原假设成立的条件下，观察到当前样本以及更极端的情况的概率，这个概率值往往被叫做p值。  
> 概率分布可以理解为描述了一个随机变量取到某个值的概率。更严谨的解释是，表示随机变量$\geq$某个值概率。  
> 在假设检验中还有一个概念是显著性水平，通常用$\alpha$表示，一般这个水平用来和p值进行比较。  

# t检验
t检验是一种常用的统计假设检验的方法，主要用于判断两组数据的均值是否存在显著差异。  
关于t检验的详细步骤，可以参考[这里](https://zhuanlan.zhihu.com/p/138711532#:~:text=%E7%9B%AE%E7%9A%84%EF%BC%9A%E6%A3%80%E9%AA%8C%E5%8D%95%E6%A0%B7%E6%9C%AC%E7%9A%84%E5%9D%87%E5%80%BC%E6%98%AF%E5%90%A6%E5%92%8C%E5%B7%B2%E7%9F%A5%E6%80%BB%E4%BD%93%E7%9A%84%E5%9D%87%E5%80%BC%E7%9B%B8%E7%AD%89%E3%80%82%20%E8%A6%81%E6%B1%82%EF%BC%9A%20%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%E4%B8%BE%E4%BE%8B%EF%BC%9A%20%E6%A3%80%E9%AA%8C%E5%8E%9F%E7%90%86%EF%BC%9A%20%E8%AE%B0%E6%80%BB%E4%BD%93%E5%9D%87%E5%80%BC%E4%B8%BA%20mu%EF%BC%8C%E6%80%BB%E4%BD%93%E6%96%B9%E5%B7%AE%E4%B8%BA%20sigma%5E2%20%EF%BC%88%E6%9C%AA%E7%9F%A5%EF%BC%89%EF%BC%8C%E6%A0%B7%E6%9C%AC%E5%9D%87%E5%80%BC,s%3Dsqrt%20%7Bfrac%20%7B1%7D%20%7Bn-1%7Dsum_%20%7Bi%3D1%7D%5En%20%28X_i-bar%20X%29%5E2%7D%EF%BC%8C%E6%9C%89%EF%BC%9A%20%E5%AF%B9%E4%BA%8E%E7%86%9F%E6%82%89%E6%95%B0%E7%90%86%E7%BB%9F%E8%AE%A1%E7%9A%84%E6%9C%8B%E5%8F%8B%EF%BC%8C%E4%B8%8A%E9%9D%A2%E8%BF%99%E4%B8%80%E6%9D%A1%E6%98%AF%E6%98%BE%E7%84%B6%E7%9A%84%E3%80%82)。  

## Welch t检验
Welch t检验是t检验的一种变体，和常见的student t检验不同，Welch t检验专门用于处理两个总体方差不相等的情况。  

### 原理  
Welch t检验计算一个修正后的t统计量，该统计量考虑了两个样本的方差差异。同时，其自由度的计算采用了Welch-Satterthwaite公式。  

### 计算公式
- **t统计量**：
$$
t = \frac{\bar{X}_1 - \bar{X}_2}{\sqrt{\frac{s_1^2}{n_1} + \frac{s_2^2}{n_2}}}
$$
- **自由度**：
$$
df = \frac{(\frac{s_1^2}{n_1} + \frac{s_2^2}{n_2})^2}{\frac{(s_1^2 / n_1)^2}{n_1 - 1} + \frac{(s_2^2 / n_2)^2}{n_2 - 1}}
$$

## 对比常见的student t检验
student t是t检验的一种，当两个样本对应的总体的方差是相等但未知时，可以使用student t检验。其构建t统计量的公式：  
$$
t = \frac{\bar{X}_1 - \bar{X}_2}{\sqrt{\frac{s_p^2}{n_1} + \frac{s_p^2}{n_2}}}
$$
其中,$s_p^2$是合并方差，计算公式为：
$$
s_p^2 = \frac{(n_1 - 1)s_1^2 + (n_2 - 1)s_2^2}{n_1 + n_2 - 2}
$$
自由度计算：
$$
df = n_1 + n_2 -2 
$$
可以看出两者的统计量在计算上是比较一致的，但自由度的计算不同。

## Welch t检验的使用
[论文](https://pubs.acs.org/doi/10.1021/acs.est.0c02099)中采用了Welch t检验来评估两种不同的机器学习模型对于同一个数据集的预测结果在统计上是否具有差异。  
具体来讲，比如，首先使用SVM对数据集进行训练，以2：1的比例随机划分训练集和测试集，进行训练与测试，得到准确率，并将上述过程重复10次，每次都随机划分数据集，从而得到10个不同的准确率。同样更换模型为LDA，重复以上过程。  
对于SVM的准确率数据$X_1$和LDA的准确率数据$X_2$，使用Welch t检验来评估两种模型在统计上是否具有差异。
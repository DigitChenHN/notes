# 场景布光
## 5.1 布光宝典
灯光分为世界光和场景光
### 世界光 
**blender的一切都是有节点的。**
*打开着色器编辑器后，将左上角的**物体**换成**世界环境**就可编辑世界环境光的节点*  
![BV14u41147YH-P25-[15:50]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-7.png)

#### 天空纹理
- 填充模式1 Hosek，给世界光添加一个天空纹理后，在Hosek模式下可以模拟出阴天的效果。
![BV14u41147YH-P25-[05:03]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-1.png)
- Preetham模式，模拟比较偏向于晴天的世界光效果。
![BV14u41147YH-P25-[05:11]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-2.png)
- Nishita模式
![BV14u41147YH-P25-[05:24]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-3.png)

#### 环境纹理
**使用HDR贴图做世界光的环境纹理**  
![BV14u41147YH-P25-[07:09]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-4.png)  
HDRI是以.exr为后缀的图片，可以将其作为世界环境的**环境纹理**。  
blender内置的环境纹理HDRI在路径`\Blender Foundation\Blender 4.0\4.0\datafiles\studiolights\world`下。  

**只想要世界环境的环境纹理的光照，而不要背景**-->将胶片中的透明勾选上。  
![BV14u41147YH-P25-[09:09]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-5.png)

### 场景光  
- *日光和点光的区别在于：日光是完全的平行光，日光模式下，灯光模型的位置改变不影响灯光的效果。*

### 打光的工作流
- 首先打世界光，后打场景光。
- 世界光
![BV14u41147YH-P25-[15:28]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-6.png)

- 场景光
![BV14u41147YH-P25-[17:17]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-8.png)
  - 主光的阴影应该是主要的
  - 辅光打光时，阴影不能喧宾夺主，辅光的位置就是看那个打完主光后那个地方比较暗。
  - 轮廓光一般是从物体的背面打。
    ![BV14u41147YH-P25-[18:36]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-9.png)
    轮廓光可以考虑将阴影关闭
    ![BV14u41147YH-P25-[18:52]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-10.png)

 
![BV14u41147YH-P25-[20:17]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-11.png)

## 5.2 场景搭建，导入第三方素材  
1. 导入其他blender文件的模型：关联和追加。直接ctrl + C 也可以做到追加的效果。  
![BV14u41147YH-P26-[01:35]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-12.png)
关联的文件不能在目标文件中编辑，在源文件中编辑后还需要在目标文件中重新加载。
![BV14u41147YH-P26-[03:21]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-13.png)
![BV14u41147YH-P26-[04:02]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-14.png)

2. 摄像机的若干设置
   - 类型可以切换为透视、正交等。其中的**结束点**就是摄像机拍到的最远距离。![BV14u41147YH-P26-[12:43]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-15.png)
   - 景深可以起到对焦的效果。![BV14u41147YH-P26-[13:07]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-16.png)
   - 视图显示透明度可以调整。![BV14u41147YH-P26-[15:40]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-19.png)

3. 一个可以一键将图片导入为平面的插件
![BV14u41147YH-P26-[14:30]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-17.png)
实际上就是导入一个平面，并且将一张图片作为其材质的图像纹理。
![BV14u41147YH-P26-[14:53]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-18.png)




## 5.3 本章练习-场景布光

- eevee渲染器透明效果需要更改材质的混合模式和阴影模式为alpha hashed。![BV14u41147YH-P27-[10:38]](./images/a20a3897-b2a4-4cd5-9fec-7cc2c252d3a5-20.png)



